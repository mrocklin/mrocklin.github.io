
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

<meta property="og:title" content="What does Pangeo 2.0 Look Like?" />
  
<meta property="og:type" content="website" />
  
<meta property="og:url" content="https://matthewrocklin.com/pangeo-2.0.html" />
  
<meta property="og:description" content="Past: In January 2018 I published a blogpost titled Pangeo: JupyterHub, Dask, and XArray on the Cloud, which introduced a new architecture for running scalable Python computations on the cloud usin..." />
  
<meta property="og:image" content="https://matthewrocklin.com/_static/profile.jpg" />
  
<meta property="og:image:alt" content="What does Pangeo 2.0 Look Like?" />
  
    <title>What does Pangeo 2.0 Look Like? &#8212; Matthew Rocklin</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="_static/styles/bootstrap.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=796348d33e8b1d947c94" rel="stylesheet">
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-dropdown.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-bootstrap.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94">
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-ZCP1VCVST7"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-ZCP1VCVST7');
            </script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'pangeo-2.0';</script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="en"> 
<link
  rel="alternate"
  type="application/atom+xml"
  href="./atom.xml"
  title="Matthew Rocklin's Working Notes"
/>
 
<style type="text/css">
  ul.ablog-archive {
    list-style: none;
    overflow: auto;
    margin-left: 0px;
  }
  ul.ablog-archive li {
    float: left;
    margin-right: 5px;
    font-size: 80%;
  }
  ul.postlist a {
    font-style: italic;
  }
  ul.postlist-style-disc {
    list-style-type: disc;
  }
  ul.postlist-style-none {
    list-style-type: none;
  }
  ul.postlist-style-circle {
    list-style-type: circle;
  }
</style>

  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>

  
  <input type="checkbox" class="sidebar-toggle" name="__primary" id="__primary">
  <label class="overlay overlay-primary" for="__primary"></label>

  
  <input type="checkbox" class="sidebar-toggle" name="__secondary" id="__secondary">
  <label class="overlay overlay-secondary" for="__secondary"></label>

  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
      
<form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search ..." aria-label="Search ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
  </div>

  
  <nav class="bd-header navbar navbar-expand-lg bd-navbar" id="navbar-main"><div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
      <span class="fa-solid fa-bars"></span>
  </label>
  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="index.html">

  
  
  
  
  
  
  

  
  
    <p class="title logo__title">Matthew Rocklin</p>
  
</a>
    
  </div>

  
  <div class="col-lg-9 navbar-header-items">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="articles.html">
                        Articles
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-external" href="https://matthewrocklin.com/blog">
                        Old Blog
                      </a>
                    </li>
                
    </ul>
</nav>
      </div>
      
    </div>

    <div id="navbar-end">
      
        <div class="navbar-end-item navbar-persistent--container">
          
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
        </div>
      
      
      <div class="navbar-end-item">
        
<form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search ..." aria-label="Search ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
      </div>
      
      <div class="navbar-end-item">
        <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
</button>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://github.com/mrocklin/" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://twitter.com/mrocklin" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-square-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://fosstodon.org/@mrocklin" title="Mastodon" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-mastodon"></i></span>
            <label class="sr-only">Mastodon</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://matthewrocklin.com/atom.xml" title="Atom Feed" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-solid fa-rss"></i></span>
            <label class="sr-only">Atom Feed</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>


  
  
    <div class="navbar-persistent--mobile">
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
    </div>
  

  

</div>
  </nav>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        
  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="articles.html">
                        Articles
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-external" href="https://matthewrocklin.com/blog">
                        Old Blog
                      </a>
                    </li>
                
    </ul>
</nav>
      </div>
      
      </div>
    

    
    
    <div class="sidebar-header-items__end">
      
      <div class="navbar-end-item">
        
<form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search ..." aria-label="Search ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
      </div>
      
      <div class="navbar-end-item">
        <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
</button>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://github.com/mrocklin/" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://twitter.com/mrocklin" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-square-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://fosstodon.org/@mrocklin" title="Mastodon" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-mastodon"></i></span>
            <label class="sr-only">Mastodon</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://matthewrocklin.com/atom.xml" title="Atom Feed" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-solid fa-rss"></i></span>
            <label class="sr-only">Atom Feed</label></a>
        </li>
      </ul>
      </div>
      
    </div>
    
  </div>

  
  <div class="sidebar-start-items sidebar-primary__section">
    <div class="sidebar-start-items__item">  <div class="sidebar-start-items sidebar-primary__section">
    <div class="sidebar-start-items__item"><nav class="bd-links" id="bd-docs-nav" aria-label="Section navigation">
<p aria-level="2" class="caption" role="heading">
  <span class="caption-text">
    <i>Originally authored 2024-09-18</i>
  </span>
</p>
<hr/>

  <p class="bd-links__title" role="heading" aria-level="1">
    Best Of
  </p>
  <div class="bd-toc-item navbar-nav">
    <p aria-level="2" class="caption" role="heading"><span class="caption-text">Startups</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="startup-best-practices.html">Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="think.html">Think for yourself</a></li>
<li class="toctree-l1"><a class="reference internal" href="meetings.html">Meetings</a></li>
<li class="toctree-l1"><a class="reference internal" href="offsites.html">Offsites</a></li>
<li class="toctree-l1"><a class="reference internal" href="metrics.html">Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="startup-revenue.html">Revenue Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="failure.html">Failure</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Writing</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="redesign-blog.html">Redesigning my Blog</a></li>
<li class="toctree-l1"><a class="reference internal" href="audio-visual.html">Audio-Visual Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="brevity.html">Short Attention Span</a></li>
<li class="toctree-l1"><a class="reference internal" href="write-short-blogposts.html">Short Blogposts</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Engineering</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="scipy-mission.html">SciPy Mission</a></li>
<li class="toctree-l1"><a class="reference internal" href="maintainer.html">Maintainers</a></li>
<li class="toctree-l1"><a class="reference internal" href="slack-github.html">Why I Avoid Slack</a></li>
<li class="toctree-l1"><a class="reference internal" href="senior-engineer.html">Senior Engineers</a></li>
<li class="toctree-l1"><a class="reference internal" href="stability-bias.html">Stability Bias</a></li>
<li class="toctree-l1"><a class="reference internal" href="technical-lead.html">Tech Leads</a></li>
<li class="toctree-l1"><a class="reference internal" href="engineers-and-sales.html">Listen to Sell</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Programming</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="minimal-bug-reports.html">Craft Minimal Bug Reports</a></li>
<li class="toctree-l1"><a class="reference internal" href="avoid-indirection.html">Avoid Indirection</a></li>
<li class="toctree-l1"><a class="reference internal" href="biased-benchmarks.html">Biased Benchmarks</a></li>
<li class="toctree-l1"><a class="reference internal" href="write-dumb-code.html">Write Dumb Code</a></li>
</ul>

  </div>
</nav>
    </div>
  </div>



  <div class="sidebar-end-items sidebar-primary__section">
    <div class="sidebar-end-items__item">
    </div>
  </div>

    </div>
  </div>
  

  
  <div class="sidebar-end-items sidebar-primary__section">
    <div class="sidebar-end-items__item">
    </div>
  </div>

  
  <div id="rtd-footer-container"></div>

      </div>
      <main id="main-content" class="bd-main">
        
        
        <div class="bd-content">
          <div class="bd-article-container">
            
            <div class="bd-header-article">
                
            </div>
            
            


            <article class="bd-article" role="main">
               <section id="what-does-pangeo-2-0-look-like">
<h1>What does Pangeo 2.0 Look Like?<a class="headerlink" href="#what-does-pangeo-2-0-look-like" title="Permalink to this heading">#</a></h1>
<a class="reference internal image-reference" href="https://global.discourse-cdn.com/standard14/uploads/pangeo/original/1X/657e3c5e0885ee4e5c2062c58f9aa094fa4b14a4.png"><img alt="https://global.discourse-cdn.com/standard14/uploads/pangeo/original/1X/657e3c5e0885ee4e5c2062c58f9aa094fa4b14a4.png" src="https://global.discourse-cdn.com/standard14/uploads/pangeo/original/1X/657e3c5e0885ee4e5c2062c58f9aa094fa4b14a4.png" style="width: 40%;" /></a>
<section id="past">
<h2>Past<a class="headerlink" href="#past" title="Permalink to this heading">#</a></h2>
<p>In January 2018 I published a blogpost titled <a class="reference external" href="https://matthewrocklin.com/blog/work/2018/01/22/pangeo-2">Pangeo: JupyterHub, Dask, and XArray on the Cloud</a>, which introduced a new architecture for running scalable Python computations on the cloud using …</p>
<ul class="simple">
<li><p>GCP</p></li>
<li><p>Kubernetes</p></li>
<li><p>Dask + Xarray</p></li>
<li><p>Dask-Kubernetes (actually named Daskernetes at the time)</p></li>
<li><p>Zarr (a brand new file format at the time)</p></li>
</ul>
<p>This architecture was unveiled during an AMS workshop keynote, the 3-minute demo video of which is still available if you want a blast from the past:</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/rSOJKbfNBNk?si=7yM7Fi1VIxLvGGcx" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
<p>This coordinated work from many people.</p>
<section id="what-was-great-about-the-pangeo-stack">
<h3>What was great about the Pangeo stack<a class="headerlink" href="#what-was-great-about-the-pangeo-stack" title="Permalink to this heading">#</a></h3>
<p>This effort was impressive, and showed that it was possible to …</p>
<ul class="simple">
<li><p>Do large scale multi-dimensional distributed computing</p></li>
<li><p>… from Python</p></li>
<li><p>… on the cloud</p></li>
<li><p>… interactively</p></li>
<li><p>… for anyone with access to the internet</p></li>
</ul>
<p>This was quite different from the standard at the time in the scientific/geo space, which was MPI codes or batch jobs run on supercomputers.  The Pangeo effort upended the status-quo at many scientific and government agencies trying to enable access and analytics on larger scale data.</p>
</section>
<section id="what-was-terrible-about-the-pangeo-stack">
<h3>What was terrible about the Pangeo stack<a class="headerlink" href="#what-was-terrible-about-the-pangeo-stack" title="Permalink to this heading">#</a></h3>
<p>Unfortunately, there were challenges with this stack:</p>
<ol class="arabic">
<li><p><strong>Kubernetes:</strong> It required expertise of Kubernetes, and that expertise was rare</p>
<p><em>“What’s a pod?  Is it a Docker?  How do I upload a pod?”</em></p>
</li>
<li><p><strong>Costs:</strong> Controlling access and costs and usage was impossible</p>
<p><em>“I want my graduate students to use this, but I’m worried they’ll go beyond my budget”</em></p>
</li>
<li><p><strong>Maintenance:</strong> It was difficult to deploy and maintain</p>
<p><em>“How do I tune my cloud autoscaler?  Actually, what is a cloud auto-scaler?”</em></p>
</li>
<li><p><strong>Regular Jobs:</strong> It failed to address non-interactive use cases</p>
<p><em>“My notebook is great, but how do I run this job every day?”</em></p>
</li>
<li><p><strong>Rigidity:</strong> It assumed a uniform development environment</p>
<p><em>“I want to use the newest version of scikit-learn, but the Docker image has an old version”</em></p>
</li>
<li><p><strong>Multi-cloud:</strong> It didn’t work across regions or clouds</p>
<p><em>“How do I access my collaborator’s data in Europe?”</em></p>
<p><em>“Does this work on Azure?”</em></p>
</li>
<li><p><strong>Storage:</strong> File formats were still wonky</p>
<p><em>“Zarr seems cool, but we’re still using NetCDF.</em></p>
<p><em>Also, my data keeps updating, can Zarr expand like this?”</em></p>
</li>
<li><p><strong>Scale:</strong> Scale was still an issue</p>
<p><em>“This works great on 200 GiB, but when I move to the full dataset my workers start running out of memory”</em></p>
</li>
<li><p><strong>Personnel:</strong> It required people to keep it alive, and no one was paid to do so</p></li>
</ol>
<p>There were incremental improvements in the components of the stack.  Dask-gateway replaced dask-kubernetes.  Zarr became more common.  Dask and Xarray both improved in scale.  There were also many extensions of it, with new libraries built on top of Xarray and a wonderful growth in community engagement.</p>
<p>However overall <strong>this deployment architecture was a technological dead end</strong> (at least in my opinion as original architect).  Personally I’m <strong>proud that we were able to generate so much enthusiasm</strong> (most of the credit here due to Ryan Abernathey, Rich Signell, and others who pushed the Pangeo stack within scientific circles) but mildly ashamed of the architecture itself.  It’s easy to build a cool demo with the Pangeo stack, but difficult to actually solve the computational and business needs of larger organizations.  <strong>The Pangeo stack was fantastic demo-ware</strong>.</p>
</section>
</section>
<section id="present">
<h2>Present<a class="headerlink" href="#present" title="Permalink to this heading">#</a></h2>
<p>Since 2018, there have been several re-imaginings of this stack.  There are full-platform options (everything included, but not particularly powerful) and some tool-specific options (innovative and powerful, but require assembly).  Let’s list a few in each category:</p>
<section id="full-platform-options">
<h3>Full Platform Options<a class="headerlink" href="#full-platform-options" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>2I2C</strong> is a classic Kubernetes + JupyterHub architecture similar to what we built in 2018 (pure OSS), but sold with a service to set up and maintain it for organizations that don’t happen to keep a Kuberentes and cloud expert on staff.</p></li>
<li><p><strong>Nebari</strong> (née QHub) is a better architected execution of the same components, and with more components (workflow managers, editors, …)  Nebari is pure OSS and deployed using git-ops, but recognizing that people need help (OSS isn’t free to maintain) Nebari is often sold with services from Quansight who maintains it.</p></li>
<li><p><strong>Saturn</strong> took the same UX with Jupyter and Dask (and others tools), but dropped dask-gateway and JupyterHub, and instead added in a proper database-backed web application.  Saturn is a commercial SaaS product with one professionally managed central control plane that can be used anywhere.</p></li>
</ul>
</section>
<section id="innovative-and-tool-specific-options">
<h3>Innovative and Tool-Specific Options<a class="headerlink" href="#innovative-and-tool-specific-options" title="Permalink to this heading">#</a></h3>
<ul>
<li><p><strong>Coiled (compute)</strong> is what I and people around me built.</p>
<p>Coiled focuses computation exclusively, while also including all of the user management and cost controls that were missing in Pangeo.  Coiled doesn’t serve Jupyter or store data.  Instead, it works with other tools users already have, running from anywhere people run Python (most notably, their existing laptop).</p>
<p>I’ll claim (perhaps with hubris) that Coiled is among most high-end Python cloud compute platforms on the market today.  This product was built with creativity and soul, and delivers a developer experience that I’m proud of (and user praise seems to back this perspective).</p>
</li>
<li><p><strong>Arraylake (storage)</strong> is what Ryan Abernathey and Joe Hamman (the other two primary Pangeo architects) built at Earthmover.</p>
<p>Arraylake is a data lake platform built around the Zarr data model which incorporates many database-style features, such as ACID transactions, data version control, fine-grained access controls, and a built-in data catalog.  A bit like Zarr + Git, or Delta Lake if you’re familiar with the dataframe storage space, Arraylake solves many of the data management challenges we experienced in the first iteration of Pangeo.</p>
</li>
<li><p><strong>Other tooling</strong> like workflow managers (Prefect, Dagster), code editors (VS Code), ML/AI tooling (PyTorch, LLMs) and more have come online.  The data infrastructure world today is a vibrant and mercurial environment.</p></li>
</ul>
</section>
<section id="status">
<h3>Status<a class="headerlink" href="#status" title="Permalink to this heading">#</a></h3>
<p>Today I see a few things:</p>
<ul class="simple">
<li><p><strong>Coiled and Earthmover</strong> deliver an innovative top-shelf experience to some geospatial users, but not many.  Those users tend to be early adopters and low-bureaucracy users like startups rather than older and larger organizations like NASA, weather agencies, and the energy majors.</p></li>
<li><p><strong>Home Grown Pangeo 1.0 deployments</strong> still get proposed within large agencies by IT groups who want to solve the data accessibility problem, but don’t land well on completion.</p></li>
<li><p><strong>2I2C and Nabari deployments</strong> are used in more on-prem-ish environments where SaaS isn’t welcome, but end up delivering mostly a JupyterHub+ experience.  While users report enjoying the cloud notebook capability, I haven’t seen an organization succeed with scalable/distributed computing with these platforms in practice.</p></li>
<li><p><strong>Single large VMs</strong> tend to be standard.  While simple, this often means that users don’t do full-dataset computations and, ironically, have crazy high cloud bills (single large VMs tend to be set up in a way that they stay on forever, which can be startlingly expensive).</p></li>
</ul>
</section>
<section id="community-developments">
<h3>Community Developments<a class="headerlink" href="#community-developments" title="Permalink to this heading">#</a></h3>
<p>There has also been a lot of wonderful work in building community around Pangeo, with a thriving <a class="reference external" href="https://discourse.pangeo.io/">discourse forum</a>, numerous third-party packages like xbatcher, xradar, rechunker, etc.., educational groups like <a class="reference external" href="https://projectpythia.org/">Project Pythia</a>, and more.</p>
<p>While core technological innovation has struggled, there’s been a lot of innovation on the human side.</p>
<p>We’re at a strange place where we have a compelling POC (thanks Pangeo 1.0!) that’s motivated a lot of people to act, but no great place for them to go just yet.  We also have an encouraging set of next-generation products (Coiled, Arraylake, Prefect, …) pointing the way to a bright future, but nothing that a mature organization can easily pull off the shelf. Procuring and integrating services from multiple different SaaS vendors comes with its own set of headaches.</p>
</section>
</section>
<section id="future">
<h2>Future<a class="headerlink" href="#future" title="Permalink to this heading">#</a></h2>
<p>So what should we do here?  What does the Pangeo 2.0 platform look like?  Ryan Abernathey and I were discussing this topic last week over drinks and started shooting lots of ideas at each other.</p>
<p>Is it just Coiled with notebooks and regular jobs?<br/>
Arraylake but with online update algorithms?<br/>
Does Saturn do everything people need?<br/>
Maybe it has to be on-prem like Nebari for government folks, but with a proper user database?  Can we get government on Cloud SaaS?<br/>
Maybe there are many different architectures for different kinds of applications and so organizations are fated to DIY?</p>
<p>I’ll give some of my opinionated constraints below.  I think that we got some things right with Coiled:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.coiled.io/user_guide/why.html#how-raw-cloud-architecture"><strong>Raw-cloud architecture</strong></a> rather than Kubernetes</p></li>
<li><p><a class="reference external" href="https://docs.coiled.io/user_guide/why.html#how-environment-synchronization"><strong>Environment synchronization</strong></a> rather than Docker images</p></li>
<li><p><a class="reference external" href="https://docs.coiled.io/user_guide/costs/index.html"><strong>Cost controls</strong></a> <strong>and <a class="reference external" href="https://docs.coiled.io/user_guide/users/index.html">user management</a> in a database</strong>, rather than JupyterHub/Kubernetes</p></li>
<li><p><strong>Centrally managed SaaS product</strong> with one set of operators, rather than several instances of the same stack</p></li>
<li><p><strong>Trivial integrations</strong> with other tools (our integration is just <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">coiled</span></code> in a Python prompt)</p></li>
</ul>
<p>But maybe we got some things wrong:</p>
<ul class="simple">
<li><p><strong>Notebooks:</strong> while I still believe that notebooks and computation should be separable (it’s important to drive computations from things-other-than-notebooks) I now realize that single-node cloud notebooks are sometimes valuable, especially for organizations who want to deliver a more curated and homogenous experience to a population of non-power-users.  (I tend to overweight the experience of power-users)</p></li>
<li><p><strong>Regular Batch Jobs:</strong> while I still believe in integrating with best-in-class workflow orchestration products like Prefect/Dagster, some organizations want something trivial baked-in, particularly when migrating from an on-prem HPC-style environment</p></li>
<li><p><strong>SaaS:</strong> I’m actually still pretty convinced that this is the right way forward.  SaaS within government agencies has proven a major source of friction, but the development velocity is just so much faster.</p></li>
</ul>
<p>Additionally, I’ll follow with some perhaps unpopular organizational perspectives:</p>
<ul class="simple">
<li><p><strong>Deployment Infrastructure should be SaaS rather tha OSS</strong></p>
<ul>
<li><p>Faster iteration (we can release daily rather than monthly)</p></li>
<li><p>Better visibility (we can see every failure, often before users do)</p></li>
<li><p>Maintenance costs are a tiny fraction when shared among different user groups
(we service hundreds of companies with a tiny cloud dev staff)</p></li>
</ul>
</li>
<li><p><strong>For-profit companies</strong> move faster than the community</p>
<ul>
<li><p>Most organizations mostly care about if it works, rather than who builds it</p></li>
</ul>
</li>
</ul>
<p>However, I still have lots of questions:</p>
<ul class="simple">
<li><p><strong>What key activities and pain points are people looking to solve today?</strong>
What features do you need?</p>
<ul>
<li><p>Dask / Xarray features?</p></li>
<li><p>User / cost / administration features?</p></li>
<li><p>Notebooks in the cloud?</p></li>
<li><p>Better Scalability?</p></li>
<li><p>Batch jobs / workflow orchestration?</p></li>
<li><p>Databases and data catalogs?</p></li>
</ul>
</li>
<li><p><strong>How do geo-specific organizations buy software?</strong></p>
<ul>
<li><p>Do you buy software or do you build everything yourself?</p></li>
<li><p>Do you deploy SaaS or do things have to be installed on-prem or in fully-isolated cloud VPCs?</p></li>
<li><p>Who makes these decisions?  What do they care about?</p></li>
<li><p>How do science users impact this decision-making process?</p></li>
</ul>
</li>
</ul>
<p>If you’ve made it to the end of this post then I could use your help answering these questions.  If you or someone you know works at an institution that buys this kind of software and are open to a 30 minute conversation, then I’d like to probe your brain with a few questions like these and gather your perspective.</p>
<p>Send me an e-mail at <a class="reference external" href="mailto:pangeo-2-discovery&#37;&#52;&#48;coiled&#46;io">pangeo-2<span>&#46;</span>0-discovery<span>&#64;</span>coiled<span>&#46;</span>io</a> and I’ll schedule a chat this week.</p>
</section>
</section>

<div class="section">
    

<div class="section">
  <span style="float: left">
     
    <a href="usage-based-pricing.html">
      <i class="fa fa-arrow-circle-left"></i> Usage Based Pricing
    </a>
    
  </span>
  <span>&nbsp;</span>
  <span style="float: right">
    
  </span>
</div>
  
</div>

            </article>
            



<script src="https://giscus.app/client.js"
        data-repo="mrocklin/mrocklin.github.io"
        data-repo-id="MDEwOlJlcG9zaXRvcnkzNDAzMTEz"
        data-category="Giscus"
        data-category-id="DIC_kwDOADPtac4CTY1R"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="preferred_color_scheme"
        data-lang="en"
        crossorigin="anonymous"
        async>
</script>



<!-- plausible -->
<script defer data-domain="coiled.io,matthewrocklin.com" src="https://plausible.io/js/script.outbound-links.js"></script>



            
            
            <footer class="bd-footer-article">
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
            </footer>
            
          </div>
          
          
          
          
        </div>
        <footer class="bd-footer-content">
          <div class="bd-footer-content__inner">
            
          </div>
        </footer>
        
      </main>
    </div>
  </div>

  
    
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94"></script>

  <footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    
<p class="copyright">

    &copy; Copyright 2022, Matthew Rocklin.<br>

</p>

  </div>
  
</div>
  </footer>
  </body>
</html>