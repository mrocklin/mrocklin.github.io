{% extends "base.html" %}

{% block hero %}
<!-- Mobile header - only visible on small screens -->
<div class="mobile-header">
  <label class="mobile-header__button" for="__drawer">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
  </label>
  <a href="{{ config.extra.homepage | d(nav.homepage.url, true) | url }}" class="mobile-header__title">
    {{ config.site_name }}
  </a>
  <div class="mobile-header__controls">
    {% if config.theme.palette %}
      {% if not config.theme.palette is mapping %}
        {% for option in config.theme.palette %}
          {% if option.toggle %}
            <label class="mobile-header__button" for="__palette_{{ loop.index % loop.length }}">
              {% include ".icons/" ~ option.toggle.icon ~ ".svg" %}
            </label>
          {% endif %}
        {% endfor %}
      {% endif %}
    {% endif %}
    <label class="mobile-header__button" for="__search">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
    </label>
  </div>
</div>
{% endblock %}

{% block content %}
{{ super() }}
{% if page and page.meta and page.meta.date %}
<script>
(function() {
  var date = document.createElement('div');
  date.className = 'article-date';
  date.textContent = 'Written on {{ page.meta.date }}';
  var h1 = document.querySelector('.md-content__inner h1');
  if (h1) h1.after(date);
})();
</script>
{% endif %}

{% if page and page.meta and page.meta.date %}
<h2>Comments</h2>
<script src="https://giscus.app/client.js"
    data-repo="mrocklin/mrocklin.github.io"
    data-repo-id="MDEwOlJlcG9zaXRvcnkzNDAzMTEz"
    data-category="Giscus"
    data-category-id="DIC_kwDOADPtac4CTY1R"
    data-mapping="pathname"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="bottom"
    data-theme="preferred_color_scheme"
    data-lang="en"
    crossorigin="anonymous"
    async>
</script>
{% endif %}
{% endblock %}
